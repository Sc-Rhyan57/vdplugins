(function(l,g,n,u,r,i,o,f){"use strict";const h=n.findByStoreName("GuildStore"),p=n.findByStoreName("UserSettingsProtoStore"),S=n.findByProps("ActionSheet")?.ActionSheet??n.find(function(s){return s?.render?.name==="ActionSheet"}),{hideActionSheet:a}=n.findByProps("hideActionSheet"),{downloadMediaAsset:A}=n.findByProps("downloadMediaAsset"),m=n.findByProps("favoriteSticker","unfavoriteSticker"),d={marginBottom:10},B=g.before("render",S,function([s]){const y=u.findInReactTree(s,function(t){return Array.isArray(t?.children)}),e=u.findInReactTree(s,function(t){return typeof t?.sticker=="object"&&t?.sticker?.hasOwnProperty("guild_id")})?.sticker,k=p.frecencyWithoutFetchingLatest?.favoriteStickers?.stickerIds;if(!y||!e)return;const c=!!k?.find(function(t){return t===e.id}),v=`https://discord.com/stickers/${e.id}.png`;y.children[1]=React.createElement(React.Fragment,null,Object.values(h.getGuilds()).find(function(t){return t.id===e.guild_id})&&React.createElement(r.Button,{text:c?"Remove from Favorites":"Add to Favorites",color:c?"red":"brand",style:d,size:"small",onPress:function(){return c?m.unfavoriteSticker(e.id):m.favoriteSticker(e.id),a(),i.showToast(c?"Removed from Favorites":"Added to Favorites",o.getAssetIDByName("Check"))}}),React.createElement(r.Button,{text:"Copy ID to clipboard",color:"brand",size:"small",style:d,onPress:function(){return f.clipboard.setString(e.id),a(),i.showToast(`Copied ${e.name}'s ID to clipboard`,o.getAssetIDByName("ic_copy_message_link"))}}),React.createElement(r.Button,{text:"Copy URL to clipboard",color:"brand",size:"small",style:d,onPress:function(){return f.clipboard.setString(v),a(),i.showToast(`Copied ${e.name}'s URL to clipboard`,o.getAssetIDByName("ic_copy_message_link"))}}),React.createElement(r.Button,{text:"Save image",color:"brand",size:"small",style:d,onPress:function(){return A(v,0),a(),i.showToast(`Saved ${e.name}'s image`,o.getAssetIDByName("toast_image_saved"))}}))}),b=function(){return B()};return l.onUnload=b,l})({},vendetta.patcher,vendetta.metro,vendetta.utils,vendetta.ui.components,vendetta.ui.toasts,vendetta.ui.assets,vendetta.metro.common);
