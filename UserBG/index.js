(function(t,u,f,g,h,c,e,a,s){"use strict";const{ScrollView:D}=s.General,{FormSection:B,FormRow:n}=s.Forms;function R(){return e.React.createElement(D,null,e.React.createElement(B,null,e.React.createElement(n,{label:"Discord Server",leading:e.React.createElement(n.Icon,{source:a.getAssetIDByName("Discord")}),trailing:n.Arrow,onPress:function(){return e.url.openDeeplink("https://discord.gg/TeRQEPb")}}),e.React.createElement(n,{label:"Reload DB",leading:e.React.createElement(n.Icon,{source:a.getAssetIDByName("ic_message_retry")}),onPress:async function(){return await i()?c.showToast("Reloaded DB",a.getAssetIDByName("check")):c.showToast("Failed to reload DB",a.getAssetIDByName("small"))}})))}const y=f.findByProps("default","getUserBannerURL");let r,l;const i=async function(){try{return r=await(await h.safeFetch("https://usrbg.is-hardly.online/users",{cache:"no-store"})).json(),r}catch(o){u.logger.error("Failed to fetch userBG data",o)}},v=async function(){if(await i(),!r)return c.showToast("Failed to load DB");l=g.after("getUserBannerURL",y,function([o]){const d=r?.find(function(E){return E.uid===o?.id});if(o?.banner===void 0&&d)return d.img})},w=function(){return l?.()},m=R;return t.fetchData=i,t.onLoad=v,t.onUnload=w,t.settings=m,t})({},vendetta,vendetta.metro,vendetta.patcher,vendetta.utils,vendetta.ui.toasts,vendetta.metro.common,vendetta.ui.assets,vendetta.ui.components);
